{% extends "dbase.html" %}
{% block title %}Предварительный просмотр бланков результатов{% endblock %}
{% block container %}container-fluid" style="display: flex;flex-direction: column;height: 100%;margin:0;padding:0{% endblock %}

{% block nav %}{#  Скрытие шапки #}{% endblock %}

{% block content %}
{#  TODO: Реализовать предварительный просмотр  #}
    <div style="flex: 0 0 100px;"></div>
    <div style="flex: 1">
        <div id="previewContainer" style="height: 100%"></div>
    </div>
{% endblock %}

{% block scripts %}
    <script src="/static/js/pdfobject.min.js"></script>
    <script>
        const pks = {{ request.GET.pk|safe }};
        $(document).ready(function () {
            updatePreview();
        });
        function updatePreview(){
            let u = '/results/pdf?pk=' + JSON.stringify(pks);
            PDFObject.embed(u, "#previewContainer");
        }
    </script>
    <style>
        body, html {
            height: 100%;
        }
        body{
            padding-bottom: 0;
        }
        .pdfobject-container {
            height: 100%;
        }
    </style>
{% endblock %}