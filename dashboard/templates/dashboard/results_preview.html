{% extends "dbase.html" %}
{% block title %}Предварительный просмотр бланков результатов{% endblock %}
{% block container %}container{% endblock %}

{% block nav %}{#  Скрытие шапки #}{% endblock %}

{% block content %}
{#  TODO: Реализовать предварительный просмотр  #}
    <div id="previewContainer" style="height: 1000px;"></div>
    {% comment %}<object data="your_url_to_pdf" type="application/pdf">
        <embed src="your_url_to_pdf" type="application/pdf" />
    </object>{% endcomment %}
{% endblock %}

{% block scripts %}
    <script>
        const pks = {{ request.GET.pk|safe }};
        $(document).ready(function () {
            updatePreview();
        });
        function updatePreview(){
            let u = '/results/preview?pk=' + JSON.stringify(pks);
            $("#previewContainer").html(`<iframe src="${u}" type="application/pdf" width="100%" height="100%">Ваш браузер не поддерживает PDF.<br/>Пожалуйста, скачайте файл PDF для просмотра: <a href="${u}">Скачать PDF файл с результатами</a></iframe>`);
        }
    </script>
    <style>

    </style>
{% endblock %}